<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.20" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="alternate" hreflang="zh-cn" href="https://scu-zjz.github.io/ForensicHub-doc/ForensicHub-doc/zh/guide/quickstart/4_whole_pipeline.html"><meta property="og:url" content="https://scu-zjz.github.io/ForensicHub-doc/ForensicHub-doc/guide/quickstart/4_whole_pipeline.html"><meta property="og:site_name" content="ForensicHub Documentation"><meta property="og:description" content="In Tensorboard, we can see many useful metrics that can monitor the training process and the convergence of the model. They all correspond to the information in the dictionary r..."><meta property="og:type" content="article"><meta property="og:image" content="https://scu-zjz.github.io/ForensicHub-doc/ForensicHub-doc/images/training/training_loss.png"><meta property="og:locale" content="en-US"><meta property="og:locale:alternate" content="zh-CN"><meta property="og:updated_time" content="2025-04-16T09:03:03.000Z"><meta property="article:modified_time" content="2025-04-16T09:03:03.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"","image":["https://scu-zjz.github.io/ForensicHub-doc/ForensicHub-doc/images/training/training_loss.png","https://scu-zjz.github.io/ForensicHub-doc/ForensicHub-doc/images/training/pixelF1.png","https://scu-zjz.github.io/ForensicHub-doc/ForensicHub-doc/images/training/train_test_samples.png","https://scu-zjz.github.io/ForensicHub-doc/ForensicHub-doc/images/training/testing_results.png","https://scu-zjz.github.io/ForensicHub-doc/ForensicHub-doc/images/training/robustness_test_plot.png"],"dateModified":"2025-04-16T09:03:03.000Z","author":[]}</script><link rel="icon" type="image/png" sizes="16x16" href="/images/icons/favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="/images/icons/favicon-32x32.png"><link rel="manifest" href="/manifest.webmanifest"><meta name="application-name" content="IMDL-BenCo-documentation"><meta name="apple-mobile-web-app-title" content="IMDL-BenCo-documentation"><meta name="theme-color" content="#3eaf7c"><title>ForensicHub Documentation</title><meta name="description" content="In Tensorboard, we can see many useful metrics that can monitor the training process and the convergence of the model. They all correspond to the information in the dictionary r...">
    <link rel="preload" href="/ForensicHub-doc/assets/style-Dd0dO5L-.css" as="style"><link rel="stylesheet" href="/ForensicHub-doc/assets/style-Dd0dO5L-.css">
    <link rel="modulepreload" href="/ForensicHub-doc/assets/app-D_z27tro.js"><link rel="modulepreload" href="/ForensicHub-doc/assets/4_whole_pipeline.html-BlvyJfIM.js"><link rel="modulepreload" href="/ForensicHub-doc/assets/robustness_test_plot-d3hRRG04.js">
    <link rel="prefetch" href="/ForensicHub-doc/assets/index.html-aPdRkXsc.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/get-started.html-s-lAL24i.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/intro.html-KV957E08.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/index.html-Bmz9lzGN.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/get-started.html-DlEJXK0I.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/framework.html-BQKpt6BI.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/introduction.html-BAtAxnIH.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/0_dataprepare.html-vObELR9U.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/1_model_zoo.html-lRPVYX2S.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/2_load_ckpt.html-LlAXx-in.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/3_demo.html-DhvToKhh.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/install.html-B1bvi9nN.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/AIGCdatasets.html-FgfSW_hO.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/IMDLdatasets.html-BI2IEUVI.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/benco.html-BChYfH-i.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/general.html-C4Vi2yTx.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/intro_content.html-Be_3S3bd.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/intro_content.html-Bw3XAcxe.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/iml_vit.html-CkA5VzMb.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/intro_content.html-DAU_sjbD.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/leaderboard.html-B0anWUtm.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/mvss.html-BxIdToJq.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/trufor.html-B1aWDF1k.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/intro.html-YJJW0eM1.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/framework.html-BEXGPZjl.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/introduction.html-fB966suy.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/0_dataprepare.html-D2nvJzet.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/1_model_zoo.html-CYKAT8ET.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/2_load_ckpt.html-Bl2JFCpo.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/3_demo.html-B68A4ExT.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/4_whole_pipeline.html-CGmaH8vm.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/install.html-De2u5SF0.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/AIGCdatasets.html-CrI8pOlV.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/IMDLdatasets.html-CzTgnJ0v.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/benco.html-D8pdGJSz.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/general.html-E4E1-cFU.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/intro_content.html-CVnjlZ5r.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/intro_content.html-CzCorIZV.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/iml_vit.html-CGQBIu5e.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/intro_content.html-B3q4NAfP.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/leaderboard.html-DWhXnxYn.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/mvss.html-Cz3QptWC.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/trufor.html-Di_TDY3r.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/404.html-DhtUo3qd.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/index-B-M8YVCw.js" as="script"><link rel="prefetch" href="/ForensicHub-doc/assets/giscus-BwIGYrs0.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/ForensicHub-doc/"><img class="vp-site-logo" src="/ForensicHub-doc/images/IMDL_BenCo.png" alt="ForensicHub Documentation"><span class="vp-site-name vp-hide-mobile" aria-hidden="true">ForensicHub Documentation</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Guide"><span class="title">Guide</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Basic Information</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/ForensicHub-doc/guide/base/introduction.html" aria-label="Introduction"><!--[--><!--[--><!--]--><!--]-->Introduction<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/ForensicHub-doc/guide/base/framework.html" aria-label="Framework Design"><!--[--><!--[--><!--]--><!--]-->Framework Design<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Quick Start</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/ForensicHub-doc/guide/quickstart/install.html" aria-label="Installation"><!--[--><!--[--><!--]--><!--]-->Installation<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/ForensicHub-doc/guide/quickstart/0_dataprepare.html" aria-label="Dataset Preparation"><!--[--><!--[--><!--]--><!--]-->Dataset Preparation<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/ForensicHub-doc/guide/quickstart/1_model_zoo.html" aria-label="Case One: Reproduce SoTA Papers by Training with Model Zoo"><!--[--><!--[--><!--]--><!--]-->Case One: Reproduce SoTA Papers by Training with Model Zoo<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/ForensicHub-doc/guide/quickstart/2_load_ckpt.html" aria-label="Case Two: Using Model Zoo with Checkpoint for Quick Testing"><!--[--><!--[--><!--]--><!--]-->Case Two: Using Model Zoo with Checkpoint for Quick Testing<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/ForensicHub-doc/guide/quickstart/3_demo.html" aria-label="Case Three: Implementing Your Own Model with benco init"><!--[--><!--[--><!--]--><!--]-->Case Three: Implementing Your Own Model with benco init<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="API Reference"><span class="title">API Reference</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="API Reference"><span class="title">API Reference</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/ForensicHub-doc/API/intro.html" aria-label="简介"><!--[--><!--[--><!--]--><!--]-->简介<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="IMDL data &amp; model hub"><span class="title">IMDL data &amp; model hub</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="IMDL data &amp; model hub"><span class="title">IMDL data &amp; model hub</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Datasets</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/ForensicHub-doc/imdl_data_model_hub/data/IMDLdatasets.html" aria-label="Tampering Detection Dataset Index"><!--[--><!--[--><!--]--><!--]-->Tampering Detection Dataset Index<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/ForensicHub-doc/imdl_data_model_hub/data/AIGCdatasets.html" aria-label="AIGC Generated Content Dataset Index"><!--[--><!--[--><!--]--><!--]-->AIGC Generated Content Dataset Index<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Models &amp; Papers</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/ForensicHub-doc/imdl_data_model_hub/models/benco.html" aria-label="Models Implemented in BenCo"><!--[--><!--[--><!--]--><!--]-->Models Implemented in BenCo<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/ForensicHub-doc/imdl_data_model_hub/models/general.html" aria-label="Other Models, Algorithms, Papers"><!--[--><!--[--><!--]--><!--]-->Other Models, Algorithms, Papers<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/ForensicHub-doc/guide/quickstart/4_whole_pipeline.html" aria-label="English"><!--[--><!--[--><!--]--><!--]-->English<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/ForensicHub-doc/zh/guide/quickstart/4_whole_pipeline.html" aria-label="简体中文"><!--[--><!--[--><!--]--><!--]-->简体中文<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/scu-zjz/ForensicHub" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Guide"><span class="title">Guide</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Guide"><span class="title">Guide</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Basic Information</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/ForensicHub-doc/guide/base/introduction.html" aria-label="Introduction"><!--[--><!--[--><!--]--><!--]-->Introduction<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/ForensicHub-doc/guide/base/framework.html" aria-label="Framework Design"><!--[--><!--[--><!--]--><!--]-->Framework Design<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Quick Start</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/ForensicHub-doc/guide/quickstart/install.html" aria-label="Installation"><!--[--><!--[--><!--]--><!--]-->Installation<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/ForensicHub-doc/guide/quickstart/0_dataprepare.html" aria-label="Dataset Preparation"><!--[--><!--[--><!--]--><!--]-->Dataset Preparation<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/ForensicHub-doc/guide/quickstart/1_model_zoo.html" aria-label="Case One: Reproduce SoTA Papers by Training with Model Zoo"><!--[--><!--[--><!--]--><!--]-->Case One: Reproduce SoTA Papers by Training with Model Zoo<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/ForensicHub-doc/guide/quickstart/2_load_ckpt.html" aria-label="Case Two: Using Model Zoo with Checkpoint for Quick Testing"><!--[--><!--[--><!--]--><!--]-->Case Two: Using Model Zoo with Checkpoint for Quick Testing<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/ForensicHub-doc/guide/quickstart/3_demo.html" aria-label="Case Three: Implementing Your Own Model with benco init"><!--[--><!--[--><!--]--><!--]-->Case Three: Implementing Your Own Model with benco init<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="API Reference"><span class="title">API Reference</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="API Reference"><span class="title">API Reference</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/ForensicHub-doc/API/intro.html" aria-label="简介"><!--[--><!--[--><!--]--><!--]-->简介<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="IMDL data &amp; model hub"><span class="title">IMDL data &amp; model hub</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="IMDL data &amp; model hub"><span class="title">IMDL data &amp; model hub</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Datasets</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/ForensicHub-doc/imdl_data_model_hub/data/IMDLdatasets.html" aria-label="Tampering Detection Dataset Index"><!--[--><!--[--><!--]--><!--]-->Tampering Detection Dataset Index<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/ForensicHub-doc/imdl_data_model_hub/data/AIGCdatasets.html" aria-label="AIGC Generated Content Dataset Index"><!--[--><!--[--><!--]--><!--]-->AIGC Generated Content Dataset Index<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Models &amp; Papers</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/ForensicHub-doc/imdl_data_model_hub/models/benco.html" aria-label="Models Implemented in BenCo"><!--[--><!--[--><!--]--><!--]-->Models Implemented in BenCo<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/ForensicHub-doc/imdl_data_model_hub/models/general.html" aria-label="Other Models, Algorithms, Papers"><!--[--><!--[--><!--]--><!--]-->Other Models, Algorithms, Papers<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">Languages</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">Languages</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/ForensicHub-doc/guide/quickstart/4_whole_pipeline.html" aria-label="English"><!--[--><!--[--><!--]--><!--]-->English<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/ForensicHub-doc/zh/guide/quickstart/4_whole_pipeline.html" aria-label="简体中文"><!--[--><!--[--><!--]--><!--]-->简体中文<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/scu-zjz/ForensicHub" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Guide <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/ForensicHub-doc/guide/base/introduction.html" aria-label="Introduction"><!--[--><!--[--><!--]--><!--]-->Introduction<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/ForensicHub-doc/guide/base/framework.html" aria-label="Framework Design"><!--[--><!--[--><!--]--><!--]-->Framework Design<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Quick Start <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/ForensicHub-doc/guide/quickstart/install.html" aria-label="Installation"><!--[--><!--[--><!--]--><!--]-->Installation<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/ForensicHub-doc/guide/quickstart/0_dataprepare.html" aria-label="Dataset Preparation"><!--[--><!--[--><!--]--><!--]-->Dataset Preparation<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/ForensicHub-doc/guide/quickstart/1_model_zoo.html" aria-label="Case One: Reproduce SoTA Papers by Training with Model Zoo"><!--[--><!--[--><!--]--><!--]-->Case One: Reproduce SoTA Papers by Training with Model Zoo<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/ForensicHub-doc/guide/quickstart/2_load_ckpt.html" aria-label="Case Two: Using Model Zoo with Checkpoint for Quick Testing"><!--[--><!--[--><!--]--><!--]-->Case Two: Using Model Zoo with Checkpoint for Quick Testing<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/ForensicHub-doc/guide/quickstart/3_demo.html" aria-label="Case Three: Implementing Your Own Model with benco init"><!--[--><!--[--><!--]--><!--]-->Case Three: Implementing Your Own Model with benco init<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><p>In Tensorboard, we can see many useful metrics that can monitor the training process and the convergence of the model. They all correspond to the information in the dictionary returned by the <code>forward()</code> function of the model in <code>my_model.py</code>.</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line"><span class="token comment"># Build the output dictionary</span></span>
<span class="line">        output_dict <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">            <span class="token string">&quot;backward_loss&quot;</span><span class="token punctuation">:</span> combined_loss<span class="token punctuation">,</span></span>
<span class="line">            <span class="token string">&quot;pred_mask&quot;</span><span class="token punctuation">:</span> torch<span class="token punctuation">.</span>sigmoid<span class="token punctuation">(</span>seg_pred<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">            <span class="token string">&quot;pred_label&quot;</span><span class="token punctuation">:</span> torch<span class="token punctuation">.</span>sigmoid<span class="token punctuation">(</span>cls_pred<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">            <span class="token string">&quot;visual_loss&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token string">&quot;total_loss&quot;</span><span class="token punctuation">:</span> combined_loss<span class="token punctuation">,</span></span>
<span class="line">                <span class="token string">&quot;seg_loss&quot;</span><span class="token punctuation">:</span> seg_loss<span class="token punctuation">,</span></span>
<span class="line">                <span class="token string">&quot;cls_loss&quot;</span><span class="token punctuation">:</span> cls_loss</span>
<span class="line">            <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">            <span class="token string">&quot;visual_image&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span></span>
<span class="line">                <span class="token string">&quot;pred_mask&quot;</span><span class="token punctuation">:</span> seg_pred<span class="token punctuation">,</span></span>
<span class="line">            <span class="token punctuation">}</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">        <span class="token keyword">return</span> output_dict</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The visualization of the loss function corresponds to the dictionary corresponding to the <code>visual_loss</code> field:</p><p><img src="/ForensicHub-doc/images/training/training_loss.png" alt=""></p><p>The calculation of the evaluation metrics comes from the results of <code>pred_mask</code> and <code>pred_label</code> and is obtained by calculating with <code>mask</code>:</p><p><img src="/ForensicHub-doc/images/training/pixelF1.png" alt="alt text"></p><p>The visualization of the predicted results, obtained from the <code>visual_image</code> field, and the default input images such as <code>image</code>, <code>mask</code> are also automatically visualized and output, which can be used to directly observe where the model&#39;s current predictions are not good, facilitating further model improvement.</p><p><img src="/ForensicHub-doc/images/training/train_test_samples.png" alt=""></p><div class="hint-container note"><p class="hint-container-title">Note</p><p>The tutorial should have image samples here. If you do not see the images, please check your network connection or enable VPN.</p></div><p>All the weights obtained after training (Checkpoint) are saved in the path corresponding to <code>base_dir</code> at the beginning of the training <code>train_mymodel.sh</code> script. The log files of Tensorboard are also saved here for subsequent use and log review.</p><p>In addition to Tensorboard logs, we also provide a plain text log <code>log.txt</code> for archiving, which contains simple content, including all scalar information after each Epoch. An example is as follows:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text"><pre><code><span class="line">......</span>
<span class="line">{&quot;train_lr&quot;: 5.068414063259753e-05, &quot;train_total_loss&quot;: 0.040027402791482446, &quot;train_seg_loss&quot;: 0.04001608065957309, &quot;train_cls_loss&quot;: 1.1322131909352606e-05, &quot;test_pixel-level F1&quot;: 0.6269838496863315, &quot;epoch&quot;: 100}</span>
<span class="line">{&quot;train_lr&quot;: 4.9894792537480576e-05, &quot;train_total_loss&quot;: 0.03938291078949974, &quot;train_seg_loss&quot;: 0.039372251576574625, &quot;train_cls_loss&quot;: 1.0659212925112626e-05, &quot;epoch&quot;: 101}</span>
<span class="line">{&quot;train_lr&quot;: 4.910553386394297e-05, &quot;train_total_loss&quot;: 0.039195733024078264, &quot;train_seg_loss&quot;: 0.039184275720948555, &quot;train_cls_loss&quot;: 1.1457303129702722e-05, &quot;epoch&quot;: 102}</span>
<span class="line">{&quot;train_lr&quot;: 4.8316563303634596e-05, &quot;train_total_loss&quot;: 0.0385435631179897, &quot;train_seg_loss&quot;: 0.03853294577689024, &quot;train_cls_loss&quot;: 1.061734109946144e-05, &quot;epoch&quot;: 103}</span>
<span class="line">{&quot;train_lr&quot;: 4.752807947567499e-05, &quot;train_total_loss&quot;: 0.035692626619510615, &quot;train_seg_loss&quot;: 0.03568181328162471, &quot;train_cls_loss&quot;: 1.0813337885906548e-05, &quot;test_pixel-level F1&quot;: 0.6672104743469334, &quot;epoch&quot;: 104}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The model is tested every 4 Epochs, so only the corresponding epoch will save <code>test_pixel-level F1</code>.</p><p>Thus, we have explained all the output content during the training process.</p><h3 id="conducting-tests" tabindex="-1"><a class="header-anchor" href="#conducting-tests"><span>Conducting Tests</span></a></h3><p>We saw in the previous metric tests that the model still had an upward trend at the 104th Epoch, but to save time, we stopped training here and proceeded to subsequent tests.</p><p>The gap between tamper detection datasets is quite large, and generalization performance is the most important indicator to measure model performance, so we hope to measure all indicators at once. Unlike previous tutorials, we need to use the <code>test_datasets.json</code> file that can cover multiple test datasets at once to assist in testing. The format is as follows, and we also provide a sample of this file in the files after <code>benco init</code>.</p><div class="language-JSON line-numbers-mode" data-highlighter="prismjs" data-ext="JSON"><pre><code><span class="line">{</span>
<span class="line">    &quot;Columbia&quot;: &quot;/mnt/data0/public_datasets/IML/Columbia.json&quot;,</span>
<span class="line">    &quot;NIST16_1024&quot;: &quot;/mnt/data0/public_datasets/IML/NIST16_1024&quot;,</span>
<span class="line">    &quot;NIST16_cleaned&quot;: &quot;/mnt/data0/public_datasets/IML/NIST16_1024_cleaning&quot;,</span>
<span class="line">    &quot;coverage&quot;: &quot;/mnt/data0/public_datasets/IML/coverage.json&quot;,</span>
<span class="line">    &quot;CASIAv1&quot;: &quot;/mnt/data0/public_datasets/IML/CASIA1.0&quot;,</span>
<span class="line">    &quot;IMD20_1024&quot;: &quot;/mnt/data0/public_datasets/IML/IMD_20_1024&quot;</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>You need to preprocess each dataset in advance, and the dataset index is in the <a class="route-link" href="/ForensicHub-doc/imdl_data_model_hub/data/IMDLdatasets.html">Tamper Detection Dataset Index</a> section, and the format requirements are in the <a class="route-link" href="/ForensicHub-doc/guide/quickstart/0_dataprepare.html">Dataset Preparation Section</a>. The above paths must be organized in the format of <code>ManiDataset</code> or <code>JsonDataset</code>.</p><p>Then we modify the <code>test_mymodel.sh</code> file to pass in the correct parameters, mainly including the following fields:</p><ul><li>Change <code>--mymodel</code> to <code>MyConvNeXt</code></li><li>Remove unnecessary <code>--MyModel_Customized_param</code> and <code>--pre_trained_weights</code> especially <code>pretrained_path</code> is usually initialized before model training. It is irrelevant during the testing phase.</li><li>Set <code>--checkpoint_path</code> to the folder where all <code>checkpoint-xx.pth</code> are output during training. It will automatically read all files ending with <code>.pth</code> under this folder and determine which epoch the checkpoint comes from based on the number in the filename to correctly plot the test metrics line chart.</li><li>Set <code>--test_data_json</code> to the path of the JSON containing multiple test set information mentioned earlier.</li><li>Other parameters can be set according to the memory and other conditions as appropriate,</li></ul><div class="hint-container important"><p class="hint-container-title">Note</p><p>If you chose <code>--if_padding</code> during training, this means that the dataloader will organize all images in the 0-padding manner of <a href="https://github.com/SunnyHaze/IML-ViT" target="_blank" rel="noopener noreferrer">IML-ViT</a>, not the <code>--if_resizing</code> of most models. Then make sure that this parameter is consistent between training and testing, otherwise, there will definitely be performance loss due to the inconsistency between the training set and the test set.</p><p>You can double-check whether padding or resizing is correctly selected through the pictures visualized by Tensorboard!</p></div><p>A modified <code>test_mymodel.sh</code> is as follows:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token assign-left variable">base_dir</span><span class="token operator">=</span><span class="token string">&quot;./eval_dir&quot;</span></span>
<span class="line"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> <span class="token variable">${base_dir}</span></span>
<span class="line"></span>
<span class="line"><span class="token assign-left variable">CUDA_VISIBLE_DEVICES</span><span class="token operator">=</span><span class="token number">0,1</span> <span class="token punctuation">\</span></span>
<span class="line">torchrun  <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--standalone</span>    <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--nnodes</span><span class="token operator">=</span><span class="token number">1</span>     <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--nproc_per_node</span><span class="token operator">=</span><span class="token number">2</span> <span class="token punctuation">\</span></span>
<span class="line">./test.py <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--model</span> MyConvNeXt <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--world_size</span> <span class="token number">1</span> <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--test_data_json</span> <span class="token string">&quot;./test_datasets.json&quot;</span> <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--checkpoint_path</span> <span class="token string">&quot;./output_dir/&quot;</span> <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--test_batch_size</span> <span class="token number">32</span> <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--image_size</span> <span class="token number">512</span> <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--if_resizing</span> <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--output_dir</span> <span class="token variable">${base_dir}</span>/ <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--log_dir</span> <span class="token variable">${base_dir}</span>/ <span class="token punctuation">\</span></span>
<span class="line"><span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> <span class="token variable">${base_dir}</span>/error.log <span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span><span class="token variable">${base_dir}</span>/logs.log</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Then, remember to change <code>from mymodel import MyModel</code> at the beginning of <code>test.py</code> to <code>from mymodel import MyConvNeXt</code>.</p><p>At this point, running the following command can start batch testing metrics on various test sets:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token function">sh</span> test_mymodel.sh</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>At this time, you can also view the test progress and results through Tensorboard. You can filter <code>eval_dir</code> in the <code>filter</code> box on the left to only view the output results of this test.</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line">tensorboard <span class="token parameter variable">--logdir</span> ./</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>The line charts of metrics obtained from multiple datasets after testing are as follows. Choose the Checkpoint with the best comprehensive performance and record the corresponding data in the paper.</p><p><img src="/ForensicHub-doc/images/training/testing_results.png" alt=""></p><h3 id="robustness-testing" tabindex="-1"><a class="header-anchor" href="#robustness-testing"><span>Robustness Testing</span></a></h3><p>Robustness testing introduces two dimensions of &quot;attack type&quot; and &quot;attack strength&quot; for grid search (<code>gird search</code>), so it is generally only the best-performing checkpoint during the test phase that undergoes robustness testing.</p><p>Accordingly, in the <code>test_robust_mymodel.sh</code> file, unlike <code>test_mymodel.sh</code>, the <code>--checkpoint_path</code> field here points to a specific checkpoint, not a folder.</p><p>The other fields are the same, remove unnecessary parameters, fill in the required parameters, and remember to change <code>from mymodel import MyModel</code> at the beginning of <code>test_robust.py</code> to <code>from mymodel import MyConvNeXt</code>.</p><p>The <code>test_robust_mymodel.sh</code> I finally used is as follows:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line"><span class="token assign-left variable">base_dir</span><span class="token operator">=</span><span class="token string">&quot;./eval_robust_dir&quot;</span></span>
<span class="line"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> <span class="token variable">${base_dir}</span></span>
<span class="line"></span>
<span class="line"><span class="token assign-left variable">CUDA_VISIBLE_DEVICES</span><span class="token operator">=</span><span class="token number">0,1</span> <span class="token punctuation">\</span></span>
<span class="line">torchrun  <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--standalone</span>    <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--nnodes</span><span class="token operator">=</span><span class="token number">1</span>     <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--nproc_per_node</span><span class="token operator">=</span><span class="token number">2</span> <span class="token punctuation">\</span></span>
<span class="line">./test_robust.py <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--model</span> MyConvNeXt <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--world_size</span> <span class="token number">1</span> <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--test_data_path</span> <span class="token string">&quot;/mnt/data0/public_datasets/IML/CASIA1.0&quot;</span> <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--checkpoint_path</span> <span class="token string">&quot;/mnt/data0/xiaochen/workspace/ForensicHub_pure/guide/benco/output_dir/checkpoint-92.pth&quot;</span> <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--test_batch_size</span> <span class="token number">32</span> <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--image_size</span> <span class="token number">512</span> <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--if_resizing</span> <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--output_dir</span> <span class="token variable">${base_dir}</span>/ <span class="token punctuation">\</span></span>
<span class="line">    <span class="token parameter variable">--log_dir</span> <span class="token variable">${base_dir}</span>/ <span class="token punctuation">\</span></span>
<span class="line"><span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span> <span class="token variable">${base_dir}</span>/error.log <span class="token operator"><span class="token file-descriptor important">1</span>&gt;</span><span class="token variable">${base_dir}</span>/logs.log</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The specific adjustment of attack strategies and intensities in robustness testing requires modification of <code>test_robust.py</code>. Please locate this modifiable code by searching for <code>TODO</code>:</p><div class="language-python line-numbers-mode" data-highlighter="prismjs" data-ext="py"><pre><code><span class="line">    <span class="token triple-quoted-string string">&quot;&quot;&quot;=================================================</span>
<span class="line">    Modify here to Set the robustness test parameters TODO</span>
<span class="line">    ===================================================&quot;&quot;&quot;</span></span>
<span class="line">    robustness_list <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">            GaussianBlurWrapper<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">            GaussianNoiseWrapper<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> </span>
<span class="line">            JpegCompressionWrapper<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>The lists behind these <code>wrapper</code> represent the specific strengths of the attacks, and they internally encapsulate the Transform provided by <a href="https://github.com/albumentations-team/albumentations" target="_blank" rel="noopener noreferrer">Albumentation</a> to implement the attack. The implementation of the <code>wrapper</code> itself, please refer to this <a href="https://github.com/scu-zjz/ForensicHub/blob/main/ForensicHub/transforms/robustness_wrapper.py" target="_blank" rel="noopener noreferrer">link</a>.</p><p>In particular, you can refer to the implementation of the <code>wrapper</code> in the current path to encapsulate a new custom <code>wrapper</code>, and then import your own wrapper here like <code>from mymodel import MyConvNeXt</code>. This way, you can achieve a custom flexible robustness test without modifying the source code.</p><hr><p>For test results, similarly, you can view them through Tensorboard:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code><span class="line">tensorboard <span class="token parameter variable">--logdir</span> ./</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>At this time, there may be many different records. Please make good use of the filter function in the upper left corner of Tensorboard to filter the attack types and corresponding results you need to record.</p><p><img src="/ForensicHub-doc/images/training/robustness_test_plot.png" alt=""></p><hr><h3 id="conclusion" tabindex="-1"><a class="header-anchor" href="#conclusion"><span>Conclusion</span></a></h3><p>In this way, we have completed the process of designing a model from scratch, training the model, completing testing and robustness testing. If you have any questions or incomplete places, please feel free to raise issues in our repository or contact the author team by email. The suggestions from the first-hand users will be of great help to us and to future scholars!</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/scu-zjz/ForensicHub-doc/edit/main/docs/guide/quickstart/4_whole_pipeline.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]--><!--]-->Edit this page on GitHub<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated:: </span><time class="meta-item-info" datetime="2025-04-16T09:03:03.000Z" data-allow-mismatch>4/16/25, 9:03 AM</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: mxch1122@126.com">Ma Xiaochen (马晓晨)</span><!----><!--]--><!--]--></span></div></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/ForensicHub-doc/assets/app-D_z27tro.js" defer></script>
  </body>
</html>
